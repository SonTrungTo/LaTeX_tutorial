\documentclass[a4paper,11pt]{article}
\pagestyle{headings}
\title{Gnuplot and LaTeX}
\author{Son To}
\date{June 6,2017}
\begin{document}
\maketitle
\tableofcontents
\newpage
\section{Using gnuplot for LaTeX: A tutorial}
Figure~\ref{fig:eg1} is a basic plot, using with `set key'/`unset key'
command to add/remove legends.
  \begin{figure}
    \begin{center}
      \input{eg1}
      \caption{A basic gnuplot}
      \label{fig:eg1}
    \end{center}
  \end{figure}

Figure~\ref{fig:eg2} embellishes the plot.
\begin{figure}
  \begin{center}
    \input{eg2}
    \caption{An embellished gnuplot}
    \label{fig:eg2}
  \end{center}
\end{figure}

Figure~\ref{fig:eg3} has multiples curves on the same plot.
\begin{figure}
  \begin{center}
    \input{eg3}
    \caption{Another plot}
    \label{fig:eg3}
  \end{center}
\end{figure}

Figure~\ref{fig:eg4} has the axis labeled in $\pi$
and provides manual tic marks.
\begin{figure}
\begin{center}
  \input{eg4}
  \caption{An example of the \emph{set xtics} command.}
  \label{fig:eg4}
\end{center}
\end{figure}

Figure~\ref{fig:eg5} introduces an alternative form of
figure~\ref{fig:eg4}, allowing us to specify the label
and position of each tic individually.
\begin{figure}
\begin{center}
  \input{eg5}
  \caption{A refined version of figure~\ref{fig:eg4}}
  \label{fig:eg5}
\end{center}
\end{figure}

A reference is in Figure~\ref{fig:ref}
\begin{figure}
  \begin{center}
  \input{test}
  \caption{A reference figure}
  \label{fig:ref}
\end{center}
\end{figure}
\end{document}
