\documentclass[a4paper,11pt]{memoir}
\usepackage[affil-it]{authblk}
\usepackage{amsmath,amssymb,amsthm,fancyhdr,enumitem,%
microtype,pgfplots,tikz}
\usepackage[pdftex,hyperindex=false,%
colorlinks,unicode,hidelinks]{hyperref}
\pgfplotsset{width=7cm,compat=1.9}
\usepackage[retainorgcmds]{IEEEtrantools}
\newcommand{\note}[1]{\emph{#1}}
\theoremstyle{plain} \newtheorem{id}{Lemma}
                     \newtheorem{thm}{Theorem}
\theoremstyle{definition} \newtheorem{pr}{Problem}[chapter]
\theoremstyle{remark}\newtheorem*{ab}{Remark}
\newcommand{\idautorefname}{Lemma}
\newcommand{\abautorefname}{Remark}
\newcommand{\thmautorefname}{Theorem}
\newcommand{\prautorefname}{Problem}
\newenvironment{solution}%
{\renewcommand{\qedsymbol}{$\blacksquare$}%
\begin{proof}[Solution]}%
{\end{proof}}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LO,RE]{\textsl{\leftmark}}
\fancyhead[RO,LE]{Page \thepage\ of \thelastpage}
\fancyfoot[CE]{Son To}
\fancyfoot[CO]{\textsl{Solutions to Michael Spivak's Calculus}}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

\begin{document}

  \title{Solutions to Michael Spivak's Calculus}
  \author{Son To\\
  $<$\href{mailto:son.trung.to@gmail.com}%
  {son.trung.to@gmail.com}$>$}
  \affil{Ravintola Kiltakellari}
  \date{$25^{th}$ June, $2017$}

  \maketitle
  \makeatletter
  \def\cleardoublepage{\clearpage\if@twoside
  \ifodd\c@page\else
    \hbox{}
    \vspace*{\fill}
    \begin{center}
      \doublenote
    \end{center}
    \vspace*{\fill}
    \thispagestyle{empty}
    \newpage
    \if@twocolumn\hbox{}\newpage\fi\fi\fi
}
\newcommand{\mylabel}[2]{#2\def\@currentlabel{#2}\label{#1}}
\def\@endpart{\vfill\newpage
              \if@twoside
                \if@openright
                  \null
                  \thispagestyle{empty}%
%-------------------------------
\vspace*{\fill}%
\begin{quote}%
  \partnote
\end{quote}%
\vspace*{\fill}%
%-------------------------------
                  \newpage
                \fi
              \fi
              \if@tempswa
                \twocolumn
              \fi
}
\newcommand{\partnote}{}
\newcommand{\doublenote}{}

%----This is the TeX for Pascal triangle
%----using binomialCoefficient
\newcommand\binomialCoefficient[2]{%
  %Store values
  \c@pgf@counta=#1 % n
  \c@pgf@countb=#2 % k
  %
  % Take advantage of the symmetry if k > n - k
  \c@pgf@countc=\c@pgf@counta%
  \advance \c@pgf@countc by-\c@pgf@countb%
  \ifnum\c@pgf@countb>\c@pgf@countc%
    \c@pgf@countb=\c@pgf@countc%
  \fi%
  %
  % Recursively compute the coefficients
  \c@pgf@countc=1 % hold the result
  \c@pgf@countd=0 % counter
  \pgfmathloop % c -> c*(n-i)/(i+1), i=0,1,...,k-1
    \ifnum\c@pgf@countd<\c@pgf@countb%
    \multiply \c@pgf@countc by\c@pgf@counta%
    \advance  \c@pgf@counta by-1%
    \advance  \c@pgf@countd by1%
    \divide   \c@pgf@countc by\c@pgf@countd%
  \repeatpgfmathloop%
  \the\c@pgf@countc%
}
%-------binomialCoefficient ends here!
\makeatother

\renewcommand{\doublenote}{%
\note{To Johanna}}
\frontmatter
  \chapter{Preface}
    This is my own solutions to Michael Spivak's Calculus
    textbook.
    \par
    All the problems are numbered after the chapter;
    otherwise, the order of problems are the same as
    the one in the textbook.
    Chapter $1$ has $25$ problems.
    \flushright
    Vantaa, Finland \\
    $25^{th}$ June, $2017$.
  \clearpage
  \tableofcontents

\mainmatter
  \renewcommand{\partnote}{
  This page is intentionally left blank.
  }
  \part{Prologue}
    \input{ch1/ch1}
    \input{ch2/ch2}
\end{document}
