\chapter{Functions}
\begin{pr} \label{pr3.1}
  Let $f(x) = 1/(1+x)$. What is
  \begin{enumerate}[label = (\roman*)]
    \item $f(f(x))$ (for which $x$ does this make sense?).
    \item $f\left(\displaystyle\frac{1}{x}\right)$.
    \item $f(cx)$.
    \item $f(x + y)$.
    \item $f(x) + f(y)$.
    \item For which numbers $c$ is there a number $x$ such that $f(cx) = f(x)$.
    Hint: There are a lot more than you might think at first glance.
    \item For which numbers $c$ is it true that $f(cx) = f(x)$ for two different
    numbers $x$
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $(f \circ f)(x) = \displaystyle\frac{1}{1 + \displaystyle\frac{1}{1 + x} }%
    = \displaystyle\frac{1 + x}{2 + x}$ for all $x \neq -1,-2$.
    \item For $\{x: x \neq 0,-1\}$,
    \begin{equation*}
      f(1/x) = \frac{1}{1 + \displaystyle\frac{1}{x}} = \frac{x}{x + 1}
    \end{equation*}
    \item $f(cx) = \displaystyle\frac{1}{1 + cx}$. If $c = 0$, then $f(0) = 1$
    for all $x$. If $c\neq0$, then $x = -\frac{1}{c}$.
    \item $f(x+y) = \displaystyle\frac{1}{1 + x + y}$ for $\{x: x\neq -(y + 1)\}$
    \item $f(x) + f(y) = \displaystyle\frac{1}{1+x} + \displaystyle\frac{1}{1+y}%
    = \displaystyle\frac{2+x+y}{(1+x)(1+y)}$ for $\{x,y: x\neq -1 \text{ and } y\neq - 1\}$.
    \item Observe that
    \begin{IEEEeqnarray*}{rCl}
      \frac{1}{1+cx} &=& \frac{1}{1+x} \\
      1 + x          &=& 1 + cx \\
      x(c - 1)       &=& 0
    \end{IEEEeqnarray*}
    If $c = 0$ then $x = 0$. If $c\neq0$, then if $c = 1$, there is infinite $x$
    satisfying our requirement; if not, then $x = 0$. Therefore, for all $c\in \mathbb{R}$,
    there is a number $x$ such that $f(cx) = f(x)$.
    \item From the above, when $c = 1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{pr3.2}
  Let $g(x) = x^2$, and let
  \begin{equation*}
    h(x) = \left\{
    \begin{array}{rl}
      0, & x \text{ rational} \\
      1, & x \text{ irrational}
    \end{array}
    \right.
  \end{equation*}
  \begin{enumerate}[label = (\roman*)]
    \item For which $y$ is $h(y) \leq y$?
    \item For which $y$ is $h(y) \leq g(y)$?
    \item What is $g(h(z)) - h(z)$?
    \item For which $w$ is $g(w) \leq w$?
    \item For which $\epsilon$ is $g(g(\epsilon)) = g(\epsilon)$?
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $\{ y: y\geq0 \text{ and } y \text{ is rational} \} \cup
    \{ y: y > 1 \text{ and } y \text{ is irrational} \}$.
    \item $ \{y: y \text{ is rational} \} \cup
    \{ y: y > 1 \text{ or } y < -1 \text{ and } y \text{ is irrational} \} $.
    \item $0$, for $z$ is not changed by the composite function.
    \item $w^2 \leq w$ if and only if $0 \leq w \leq 1$.
    \item $\epsilon^4 = \epsilon^2$ only when $\epsilon = 0,\pm1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{pr3.3}
  Find the domain of the functions defined by the following formulas.
  \begin{enumerate}[label=(\roman*)]
    \item $f(x) = \sqrt{1 - x^2}$
    \item $f(x) = \sqrt{1 - \sqrt{1 - x^2}}$
    \item $f(x) = \displaystyle\frac{1}{x - 1} + \displaystyle\frac{1}{x - 2}$
    \item $f(x) = \sqrt{1 - x^2} + \sqrt{x^2 - 1}$
    \item $f(x) = \sqrt{1 - x} + \sqrt{x - 2}$
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label=(\roman*)]
    \item $-1 \leq x \leq 1$.
    \item Same as above, for $1 - x^2 \leq 1$ is true for all $x$ in the domain.
    \item $\{ x: x\neq1 \text{ and } x\neq2 \}$
    \item $\{ x: x \geq 1 \text{ or } x \leq -1 \} \cap
    \{ x: -1 \leq x \leq 1 \} = \{x: x = -1,1\}$
    \item Domain does not exist since $\{ x: x \leq 1 \text{ and } x \geq 2 \}
    = \emptyset$
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.4}
  Let $S(x) = x^2$, let $P(x) = 2^x$, and let $s(x) = \sin x$. Find each of the
  following. In each case your answer should be a \note{number}.
  \begin{enumerate}[label = (\roman*)]
    \item $(S \circ P)(y)$.
    \item $(S \circ s)(y)$.
    \item $(S \circ P \circ s)(t) + (s \circ P)(t)$.
    \item $s(t^3)$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label=(\roman*)]
    \item $(2^y)^2 = 2^{2y}$.
    \item $\sin^2 y$.
    \item $2^{2\sin t} + \sin 2^t$.
    \item $\sin t^3$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.5}
  Express each of the following functions in terms of $S, P, s$, using only
  $+,\cdot,\circ$ (for example, the answer to \ref{3.5.i} is $P \circ s$). In each
  case your answer should be a \note{function}.
  \begin{enumerate}[label = (\roman*)]
    \item \label{3.5.i} $f(x) = 2^{\sin x}$.
    \item $f(x) = \sin 2^x$.
    \item $f(x) = \sin x^2$.
    \item $f(x) = \sin^2 x$.
    \item $f(t) = 2^{2^t}$.
    \item $f(u) = \sin (2^u + 2^{u^2})$.
    \item $f(y) = \sin (\sin (\sin (2^{2^{2^{\sin y}}})))$.
    \item $f(a) = 2^{\sin^2 a} + \sin (a^2) + 2^{\sin (a^2 + \sin a)}$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $(P \circ s)(x)$.
    \item $(s \circ P)(x)$.
    \item $(s \circ S)(x)$.
    \item $(S \circ s)(x)$.
    \item $(S \circ S)(t)$.
    \item $(s \circ (P + P \circ S))(u)$.
    \item $(s \circ s \circ s \circ P \circ P \circ P \circ s)(y)$.
    \item $(P \circ S \circ s + s \circ S + P \circ (s \circ (S + s)))(a)$.
  \end{enumerate}
\end{solution}

\flushleft
Polynomial functions, because they are simple, yet flexible, occupy a favored
role in most investigations of functions. The following two problems illustrate
their flexibility, and guide you through a derivation of their most important
elementary properties.

\begin{pr} \label{3.6}
  \begin{enumerate}[label = (\alph*)]
    \item If $x_1,\ldots,x_n$ are distinct numbers, find a polynomial function $f_i$
    of degree $n - 1$ which is $1$ at $x_i$ and $0$ at $x_j$ for $j \neq i$. Hint:
    the product of all $(x - x_j)$ for $j \neq i$ is $0$ at $x_j$ if $j \neq i$.
    (This product is usually denoted by
    \begin{equation*}
      \prod_{\substack{j = 1 \\ j \neq i}}^{n} (x - x_j),
    \end{equation*}
    the symbol $\prod$ (capital pi) playing the same role for products that $\sum$
    plays for sums.)
    \item Now find a polynomial function $f$ of degree $n - 1$ such that $f(x_i) = a_i$,
    where $a_1,\ldots,a_n$ are given numbers. The formula obtained is called
    the ``Lagrange interpolation formula''.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let
    \begin{equation*}
      f_i(x) = \frac{\displaystyle\prod_{\substack{j = 1 \\ j \neq i}}^{n} (x - x_j)}%
      {\displaystyle\prod_{\substack{j = 1 \\ j \neq i}}^{n} (x_i - x_j)}
    \end{equation*}
    Observe that $f_i$ is a polynomial of degree $n - 1$, equal to $1$ if $x = x_i$
    and to $0$ if $x = x_j$ for $j \neq i$.
    \item Let
    \begin{equation*}
      f(x) = \sum_{i = 1}^{n} (f_i(x) \cdot a_i)
    \end{equation*}
    where $f_i(x)$ is the above-constructed function.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.7}
  \begin{enumerate}[label = (\alph*)]
    \item \label{3.7.a} Prove that for any polynomial function $f$, and any number $a$, there is a
    polynomial function $g$, and a number $b$, such that $f(x) = (x - a)g(x) + b$
    for all $x$.
    \item \label{3.7.b} Prove that if $f(a) = 0$, then $f(x) = (x - a)g(x)$ for some polynomial
    function $g$. (The converse is obvious.)
    \item Prove that if $f$ is a polynomial function of degree $n$, then $f$ has
    at most $n$ roots, i.e., there are at most $n$ numbers $a$ with $f(a) = 0$.
    \item Show that for each $n$ there is a polynomial function of degree $n$ with
    $n$ roots. If $n$ is even find a polynomial function of degree $n$ with no roots,
    and if $n$ is odd find one with only one root.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item The proof is by complete induction on the degree of $f$. Let $n = 1$,
    then $f(x) = a_1x + a_0 = (x - a)a_1 + (a_0 + aa_1)$. Suppose the claim holds
    for all $n$ and below, then
    \begin{IEEEeqnarray*}{rCl}
      f(x) &=& a_{n+1}x^{n+1} + (x - a)m(x) + d \\
           &=& (x - a + a)a_{n+1}x^n + (x - a)m(x) + d \\
           &=& (x - a)a_{n+1}x^n + (x - a)m(x) + d + a[(x - a)n(x) + c] \\
           &=& (x - a)g(x) + b
    \end{IEEEeqnarray*}
    where $g(x) = a_{n+1}x^n + m(x) + an(x)$ and $b = d + ac$.
    \item From \ref{3.7.a}, $b = 0$; therefore $f(x) = (x - a)g(x)$.
    \item If $f$ had $n+1$ roots, then from \ref{3.7.b},
    $f(x) = \prod_{i = 1}^{n+1} (x - a_i) \cdot g(x)$, but this contradicts
    $f$ has a degree of $n$.
    \item As before, the polynomial function
    \begin{equation*}
      f(x) = \prod_{i = 1}^n (x - a_i)
    \end{equation*}
    ,where $a_1,\ldots,a_n$ are $n$ roots, is such function. Consider $f(x) = x^n + 1$;
    if $n$ is even,
    it has no roots; if $n$ is odd, it has only one root: $x = -1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.8}
  For which $a,b,c$, and $d$ will the function
  \begin{equation*}
    f(x) = \frac{ax + b}{cx + d}
  \end{equation*}
  satisfy $f(f(x)) = x$ for all $x$?
\end{pr}

\begin{solution}
  By simple algebra, we turn the equation
  \begin{equation*}
    f(f(x)) = x
  \end{equation*}
  into the following equation,
  \begin{equation*}
    (ac + cd)x^2 + (d^2 - a^2)x - ab - bd = 0
  \end{equation*}
  which means that, for all $x$ in $f$'s domain,
  \begin{IEEEeqnarray*}{rCl}
    ac + cd &=& 0 \\
    d^2 - a^2 &=& 0 \\
    ab + bd &=& 0
  \end{IEEEeqnarray*}
  Then either $a = d$ or $a = -d$ . If $a = d = 0$, then $f(x) = b/(cx)$,
  then $f(f(x)) = x$ for all $x \neq 0$. If $a = d \neq 0$, then $b = c = 0$, then
  $f(f(x)) = x$ for all $x$.
  If $a = -d$, then for $x \neq \frac{a}{c}$ and $f(x) \neq \frac{a}{c}$, which satisfy
  $a^2 + bc \neq 0$, $f(f(x)) = x$.
\end{solution}

\begin{pr} \label{3.9}
  \begin{enumerate}[label = (\alph*)]
    \item If $A$ is any set of real numbers, define a function $C_A$ as follows:
    \begin{equation*}
      C_A(x) = \left\{
      \begin{array}{rl}
      1, & x \text{ in } A \\
      0, & x \text{ not in } A.
      \end{array}
      \right.
    \end{equation*}
    Find expressions for $C_{A \cap B}$ and $C_{A \cup B}$ and $C_{\mathbb{R} - A}$,
    in terms of $C_A$ and $C_B$.
  \item \label{3.9:b} Suppose $f$ is a function such that $f(x) = 0$ or $1$ for each $x$. Prove that
  there is a set $A$ such that $f = C_A$.
  \item \label{3.9:c} Show that $f = f^2$ if and only if $f = C_A$ for some set $A$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item The expressions are
    \begin{IEEEeqnarray*}{rCl}
      C_{A \cap B} & = & C_A \cdot C_B \\
      C_{A \cup B} & = & C_A + C_B - C_A \cdot C_B \\
      C_{\mathbb{R} - A} & = & 1 - C_A
    \end{IEEEeqnarray*}
    \item Let $A = \{ x: f(x) = 1 \}$, then $f = C_A$.
    \item Suppose $f = f^2$, then $f(1 - f) = 0$. Hence,from \ref{3.9:b}, $f = C_A$.
    Conversely, if $f = C_A$ for some set $A$, then $f = f^2$ since $0 = 0^2$ and
    $1 = 1^2$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.10}
  \begin{enumerate}[label = (\alph*)]
    \item For which functions $f$ is there a function $g$ such that $f = g^2$?
    \item For which functions $f$ is there a function $g$ such that $f = 1/g$?
    \item For which functions $b$ and $c$ can we find a function $x$ such that
    \begin{equation*}
      (x(t))^2 + b(t)x(t) + c(t) = 0
    \end{equation*}
    for all numbers $t$?
    \item What conditions must the functions $a$ and $b$ satisfy if there is to
    be a function $x$ such that
    \begin{equation*}
      a(t)x(t) + b(t) = 0
    \end{equation*}
    for all numbers $t$? How many such functions $x$ will there be?
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item For all $f$ such that $f(x) \geq 0$ for all $x$.
    \item For all $f$ such that $f(x) \neq 0$ for all $x$.
    \item The condition $(b(t))^2 - 4c(t) \geq 0$ for all $t$ is satisfied.
    \item For all numbers $t$, $b(t) = 0$ whenever $a(t) = 0$. If $a(t) \neq 0$,
    then $x(t) = \displaystyle-\frac{b(t)}{a(t)}$ is unique. If $a(t) = 0$ for
    some $t$, choose $x(t)$ arbitrarily. Therefore, if $a(t) \neq 0$ for all $t$,
    there is a unique function $x$; otherwise, there are infinitely many function $x$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.11}
  \begin{enumerate}[label = (\alph*)]
    \item Suppose that $H$ is a function and $y$ is a number such that $H(H(y)) = y$.
    What is
    \begin{equation*}
      \underbrace{H(H(H(\cdots(H(y)\cdots)}_\text{$80$ times} ?
    \end{equation*}
    \item Same question if $80$ is replaced by $81$.
    \item Same question if $H(H(y)) = H(y)$.
    \item Find a function $H$ such that $H(H(x)) = H(x)$ for all numbers $x$, and
    such that $H(1) = 36, H(2) = \pi/3, H(13) = 47, H(36) = 36, H(\pi/3) = \pi/3,
    H(47) = 47$.
    \item Find a function $H$ such that $H(H(x)) = H(x)$ for all $x$, and such that
    $H(1) = 7, H(17) = 18$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item $y$
    \item $H(y)$
    \item $H(y)$
    \item Let $H(x)$ has the value given before when $x = 1,2,13,36,\pi/3,47$.
    When $x$ is not equal to those values, let $H(x) = 0$.
    \item Let $H(1) = H(7) = 7$ and $H(17) = H(18) = 18$. When $x \neq 1,7,17,18$;
    let $H(x) = 0$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.12}
  A function $f$ is \textbf{even} if $f(x) = f(-x)$ and \textbf{odd} if $f(x) = -f(-x)$.
  \begin{enumerate}[label = (\alph*)]
    \item Determine whether $f + g$ is even, odd, or not necessarily either.
    \item Do the same for $f \cdot g$.
    \item Do the same for $f \circ g$.
    \item Prove that for every even function $f$ can be written $f(x) = g(|x|)$,
    for infinitely many functions $g$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item If $f$ and $g$ are both even, $(f + g)(-x) = (f + g)(x)$: $f + g$ is even.
    If $f$ and $g$ are both odd, $(f + g)(-x) = -(f + g)(x)$: $f + g$ is odd.
    Suppose $f(x) = x^2$ and $g(x) = \sin (x)$, then $f + g$ is neither odd nor even.
    \item If $f$ and $g$ are both even, $(f \cdot g)$ is even; if one of the two
    is odd, $(f \cdot g)$ is odd; if both are odd, $(f \cdot g)$ is even.
    \item If $f$ and $g$ are both even, $(f \circ g)$ is even; if $f$ is even
    and $g$ is odd, $(f \circ g)$ is even; if $f$ is odd and $g$ is even,
    $(f \circ g)$ is even; if both are odd, $(f \circ g)$ is odd.
    \item Define $g$ such that
    \begin{equation*}
      g(|x|) = \left\{
      \begin{array}{rl}
        f(x), & \text{ if } x \geq 0 \\
        \text{arbitrary}, & \text{ if } x < 0
      \end{array}
      \right.
    \end{equation*}
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.13}
  \begin{enumerate}[label = (\alph*)]
    \item Prove that any function $f$ with domain $\mathbb{R}$ can be written
    $f = E + O$, where $E$ is even and $O$ is odd.
    \item Prove that this way of writing $f$ is unique.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let
    \begin{align*}
      E(x) &= \frac{f(x) + f(-x)}{2} &
      O(x) &= \frac{f(x) - f(-x)}{2}
    \end{align*}
    \item Suppose that $f = E + O$, then observe that,
    \begin{IEEEeqnarray*}{rCl}
      f(x)  & = & E(x) + O(x) \\
      f(-x) & = & E(x) - O(x)
    \end{IEEEeqnarray*}
    We therefore solve the system of equations for the unique $E$ and $O$ with
    their value at $x$ as above.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.14}
  If $f$ is any function, define a new function $|f|$ by $|f|(x) = |f(x)|$. If $f$
  and $g$ are functions, define two new functions, $max(f,g)$ and $min(f,g)$, by
  \begin{IEEEeqnarray*}{rCl}
    max(f,g)(x) & = & max(f(x),g(x)), \\
    min(f,g)(x) & = & min(f(x),g(x)).
  \end{IEEEeqnarray*}
  Find an expression for $max(f,g)$ and $min(f,g)$ in terms of $||$.
\end{pr}

\begin{solution}
  \begin{align*}
    max(f,g) &= \frac{f + g + |f - g|}{2} \\
    min(f,g) &= \frac{f + g - |f - g|}{2}
  \end{align*}
\end{solution}
