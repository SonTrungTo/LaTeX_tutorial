\chapter{Functions}
\begin{pr} \label{pr3.1}
  Let $f(x) = 1/(1+x)$. What is
  \begin{enumerate}[label = (\roman*)]
    \item $f(f(x))$ (for which $x$ does this make sense?).
    \item $f\left(\displaystyle\frac{1}{x}\right)$.
    \item $f(cx)$.
    \item $f(x + y)$.
    \item $f(x) + f(y)$.
    \item For which numbers $c$ is there a number $x$ such that $f(cx) = f(x)$.
    Hint: There are a lot more than you might think at first glance.
    \item For which numbers $c$ is it true that $f(cx) = f(x)$ for two different
    numbers $x$
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $(f \circ f)(x) = \displaystyle\frac{1}{1 + \displaystyle\frac{1}{1 + x} }%
    = \displaystyle\frac{1 + x}{2 + x}$ for all $x \neq -1,-2$.
    \item For $\{x: x \neq 0,-1\}$,
    \begin{equation*}
      f(1/x) = \frac{1}{1 + \displaystyle\frac{1}{x}} = \frac{x}{x + 1}
    \end{equation*}
    \item $f(cx) = \displaystyle\frac{1}{1 + cx}$. If $c = 0$, then $f(0) = 1$
    for all $x$. If $c\neq0$, then $x = -\frac{1}{c}$.
    \item $f(x+y) = \displaystyle\frac{1}{1 + x + y}$ for $\{x: x\neq -(y + 1)\}$
    \item $f(x) + f(y) = \displaystyle\frac{1}{1+x} + \displaystyle\frac{1}{1+y}%
    = \displaystyle\frac{2+x+y}{(1+x)(1+y)}$ for $\{x,y: x\neq -1 \text{ and } y\neq - 1\}$.
    \item Observe that
    \begin{IEEEeqnarray*}{rCl}
      \frac{1}{1+cx} &=& \frac{1}{1+x} \\
      1 + x          &=& 1 + cx \\
      x(c - 1)       &=& 0
    \end{IEEEeqnarray*}
    If $c = 0$ then $x = 0$. If $c\neq0$, then if $c = 1$, there is infinite $x$
    satisfying our requirement; if not, then $x = 0$. Therefore, for all $c\in \mathbb{R}$,
    there is a number $x$ such that $f(cx) = f(x)$.
    \item From the above, when $c = 1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{pr3.2}
  Let $g(x) = x^2$, and let
  \begin{equation*}
    h(x) = \left\{
    \begin{array}{rl}
      0, & x \text{ rational} \\
      1, & x \text{ irrational}
    \end{array}
    \right.
  \end{equation*}
  \begin{enumerate}[label = (\roman*)]
    \item For which $y$ is $h(y) \leq y$?
    \item For which $y$ is $h(y) \leq g(y)$?
    \item What is $g(h(z)) - h(z)$?
    \item For which $w$ is $g(w) \leq w$?
    \item For which $\epsilon$ is $g(g(\epsilon)) = g(\epsilon)$?
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $\{ y: y\geq0 \text{ and } y \text{ is rational} \} \cup
    \{ y: y > 1 \text{ and } y \text{ is irrational} \}$.
    \item $ \{y: y \text{ is rational} \} \cup
    \{ y: y > 1 \text{ or } y < -1 \text{ and } y \text{ is irrational} \} $.
    \item $0$, for $z$ is not changed by the composite function.
    \item $w^2 \leq w$ if and only if $0 \leq w \leq 1$.
    \item $\epsilon^4 = \epsilon^2$ only when $\epsilon = 0,\pm1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{pr3.3}
  Find the domain of the functions defined by the following formulas.
  \begin{enumerate}[label=(\roman*)]
    \item $f(x) = \sqrt{1 - x^2}$
    \item $f(x) = \sqrt{1 - \sqrt{1 - x^2}}$
    \item $f(x) = \displaystyle\frac{1}{x - 1} + \displaystyle\frac{1}{x - 2}$
    \item $f(x) = \sqrt{1 - x^2} + \sqrt{x^2 - 1}$
    \item $f(x) = \sqrt{1 - x} + \sqrt{x - 2}$
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label=(\roman*)]
    \item $-1 \leq x \leq 1$.
    \item Same as above, for $1 - x^2 \leq 1$ is true for all $x$ in the domain.
    \item $\{ x: x\neq1 \text{ and } x\neq2 \}$
    \item $\{ x: x \geq 1 \text{ or } x \leq -1 \} \cap
    \{ x: -1 \leq x \leq 1 \} = \{x: x = -1,1\}$
    \item Domain does not exist since $\{ x: x \leq 1 \text{ and } x \geq 2 \}
    = \emptyset$
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.4}
  Let $S(x) = x^2$, let $P(x) = 2^x$, and let $s(x) = \sin x$. Find each of the
  following. In each case your answer should be a \note{number}.
  \begin{enumerate}[label = (\roman*)]
    \item $(S \circ P)(y)$.
    \item $(S \circ s)(y)$.
    \item $(S \circ P \circ s)(t) + (s \circ P)(t)$.
    \item $s(t^3)$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label=(\roman*)]
    \item $(2^y)^2 = 2^{2y}$.
    \item $\sin^2 y$.
    \item $2^{2\sin t} + \sin 2^t$.
    \item $\sin t^3$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.5}
  Express each of the following functions in terms of $S, P, s$, using only
  $+,\cdot,\circ$ (for example, the answer to \ref{3.5.i} is $P \circ s$). In each
  case your answer should be a \note{function}.
  \begin{enumerate}[label = (\roman*)]
    \item \label{3.5.i} $f(x) = 2^{\sin x}$.
    \item $f(x) = \sin 2^x$.
    \item $f(x) = \sin x^2$.
    \item $f(x) = \sin^2 x$.
    \item $f(t) = 2^{2^t}$.
    \item $f(u) = \sin (2^u + 2^{u^2})$.
    \item $f(y) = \sin (\sin (\sin (2^{2^{2^{\sin y}}})))$.
    \item $f(a) = 2^{\sin^2 a} + \sin (a^2) + 2^{\sin (a^2 + \sin a)}$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\roman*)]
    \item $(P \circ s)(x)$.
    \item $(s \circ P)(x)$.
    \item $(s \circ S)(x)$.
    \item $(S \circ s)(x)$.
    \item $(S \circ S)(t)$.
    \item $(s \circ (P + P \circ S))(u)$.
    \item $(s \circ s \circ s \circ P \circ P \circ P \circ s)(y)$.
    \item $(P \circ S \circ s + s \circ S + P \circ (s \circ (S + s)))(a)$.
  \end{enumerate}
\end{solution}

\flushleft
Polynomial functions, because they are simple, yet flexible, occupy a favored
role in most investigations of functions. The following two problems illustrate
their flexibility, and guide you through a derivation of their most important
elementary properties.

\begin{pr} \label{3.6}
  \begin{enumerate}[label = (\alph*)]
    \item If $x_1,\ldots,x_n$ are distinct numbers, find a polynomial function $f_i$
    of degree $n - 1$ which is $1$ at $x_i$ and $0$ at $x_j$ for $j \neq i$. Hint:
    the product of all $(x - x_j)$ for $j \neq i$ is $0$ at $x_j$ if $j \neq i$.
    (This product is usually denoted by
    \begin{equation*}
      \prod_{\substack{j = 1 \\ j \neq i}}^{n} (x - x_j),
    \end{equation*}
    the symbol $\prod$ (capital pi) playing the same role for products that $\sum$
    plays for sums.)
    \item Now find a polynomial function $f$ of degree $n - 1$ such that $f(x_i) = a_i$,
    where $a_1,\ldots,a_n$ are given numbers. The formula obtained is called
    the ``Lagrange interpolation formula''.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let
    \begin{equation*}
      f_i(x) = \frac{\displaystyle\prod_{\substack{j = 1 \\ j \neq i}}^{n} (x - x_j)}%
      {\displaystyle\prod_{\substack{j = 1 \\ j \neq i}}^{n} (x_i - x_j)}
    \end{equation*}
    Observe that $f_i$ is a polynomial of degree $n - 1$, equal to $1$ if $x = x_i$
    and to $0$ if $x = x_j$ for $j \neq i$.
    \item Let
    \begin{equation*}
      f(x) = \sum_{i = 1}^{n} (f_i(x) \cdot a_i)
    \end{equation*}
    where $f_i(x)$ is the above-constructed function.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.7}
  \begin{enumerate}[label = (\alph*)]
    \item \label{3.7.a} Prove that for any polynomial function $f$, and any number $a$, there is a
    polynomial function $g$, and a number $b$, such that $f(x) = (x - a)g(x) + b$
    for all $x$.
    \item \label{3.7.b} Prove that if $f(a) = 0$, then $f(x) = (x - a)g(x)$ for some polynomial
    function $g$. (The converse is obvious.)
    \item Prove that if $f$ is a polynomial function of degree $n$, then $f$ has
    at most $n$ roots, i.e., there are at most $n$ numbers $a$ with $f(a) = 0$.
    \item Show that for each $n$ there is a polynomial function of degree $n$ with
    $n$ roots. If $n$ is even find a polynomial function of degree $n$ with no roots,
    and if $n$ is odd find one with only one root.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item The proof is by complete induction on the degree of $f$. Let $n = 1$,
    then $f(x) = a_1x + a_0 = (x - a)a_1 + (a_0 + aa_1)$. Suppose the claim holds
    for all $n$ and below, then
    \begin{IEEEeqnarray*}{rCl}
      f(x) &=& a_{n+1}x^{n+1} + (x - a)m(x) + d \\
           &=& (x - a + a)a_{n+1}x^n + (x - a)m(x) + d \\
           &=& (x - a)a_{n+1}x^n + (x - a)m(x) + d + a[(x - a)n(x) + c] \\
           &=& (x - a)g(x) + b
    \end{IEEEeqnarray*}
    where $g(x) = a_{n+1}x^n + m(x) + an(x)$ and $b = d + ac$.
    \item From \ref{3.7.a}, $b = 0$; therefore $f(x) = (x - a)g(x)$.
    \item If $f$ had $n+1$ roots, then from \ref{3.7.b},
    $f(x) = \prod_{i = 1}^{n+1} (x - a_i) \cdot g(x)$, but this contradicts
    $f$ has a degree of $n$.
    \item As before, the polynomial function
    \begin{equation*}
      f(x) = \prod_{i = 1}^n (x - a_i)
    \end{equation*}
    ,where $a_1,\ldots,a_n$ are $n$ roots, is such function. Consider $f(x) = x^n + 1$;
    if $n$ is even,
    it has no roots; if $n$ is odd, it has only one root: $x = -1$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.8}
  For which $a,b,c$, and $d$ will the function
  \begin{equation*}
    f(x) = \frac{ax + b}{cx + d}
  \end{equation*}
  satisfy $f(f(x)) = x$ for all $x$?
\end{pr}

\begin{solution}
  By simple algebra, we turn the equation
  \begin{equation*}
    f(f(x)) = x
  \end{equation*}
  into the following equation,
  \begin{equation*}
    (ac + cd)x^2 + (d^2 - a^2)x - ab - bd = 0
  \end{equation*}
  which means that, for all $x$ in $f$'s domain,
  \begin{IEEEeqnarray*}{rCl}
    ac + cd &=& 0 \\
    d^2 - a^2 &=& 0 \\
    ab + bd &=& 0
  \end{IEEEeqnarray*}
  Then either $a = d$ or $a = -d$ . If $a = d = 0$, then $f(x) = b/(cx)$,
  then $f(f(x)) = x$ for all $x \neq 0$. If $a = d \neq 0$, then $b = c = 0$, then
  $f(f(x)) = x$ for all $x$.
  If $a = -d$, then for $x \neq \frac{a}{c}$ and $f(x) \neq \frac{a}{c}$, which satisfy
  $a^2 + bc \neq 0$, $f(f(x)) = x$.
\end{solution}

\begin{pr} \label{3.9}
  \begin{enumerate}[label = (\alph*)]
    \item If $A$ is any set of real numbers, define a function $C_A$ as follows:
    \begin{equation*}
      C_A(x) = \left\{
      \begin{array}{rl}
      1, & x \text{ in } A \\
      0, & x \text{ not in } A.
      \end{array}
      \right.
    \end{equation*}
    Find expressions for $C_{A \cap B}$ and $C_{A \cup B}$ and $C_{\mathbb{R} - A}$,
    in terms of $C_A$ and $C_B$.
  \item \label{3.9:b} Suppose $f$ is a function such that $f(x) = 0$ or $1$ for each $x$. Prove that
  there is a set $A$ such that $f = C_A$.
  \item \label{3.9:c} Show that $f = f^2$ if and only if $f = C_A$ for some set $A$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item The expressions are
    \begin{IEEEeqnarray*}{rCl}
      C_{A \cap B} & = & C_A \cdot C_B \\
      C_{A \cup B} & = & C_A + C_B - C_A \cdot C_B \\
      C_{\mathbb{R} - A} & = & 1 - C_A
    \end{IEEEeqnarray*}
    \item Let $A = \{ x: f(x) = 1 \}$, then $f = C_A$.
    \item Suppose $f = f^2$, then $f(1 - f) = 0$. Hence,from \ref{3.9:b}, $f = C_A$.
    Conversely, if $f = C_A$ for some set $A$, then $f = f^2$ since $0 = 0^2$ and
    $1 = 1^2$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.10}
  \begin{enumerate}[label = (\alph*)]
    \item For which functions $f$ is there a function $g$ such that $f = g^2$?
    \item For which functions $f$ is there a function $g$ such that $f = 1/g$?
    \item For which functions $b$ and $c$ can we find a function $x$ such that
    \begin{equation*}
      (x(t))^2 + b(t)x(t) + c(t) = 0
    \end{equation*}
    for all numbers $t$?
    \item What conditions must the functions $a$ and $b$ satisfy if there is to
    be a function $x$ such that
    \begin{equation*}
      a(t)x(t) + b(t) = 0
    \end{equation*}
    for all numbers $t$? How many such functions $x$ will there be?
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item For all $f$ such that $f(x) \geq 0$ for all $x$.
    \item For all $f$ such that $f(x) \neq 0$ for all $x$.
    \item The condition $(b(t))^2 - 4c(t) \geq 0$ for all $t$ is satisfied.
    \item For all numbers $t$, $b(t) = 0$ whenever $a(t) = 0$. If $a(t) \neq 0$,
    then $x(t) = \displaystyle-\frac{b(t)}{a(t)}$ is unique. If $a(t) = 0$ for
    some $t$, choose $x(t)$ arbitrarily. Therefore, if $a(t) \neq 0$ for all $t$,
    there is a unique function $x$; otherwise, there are infinitely many function $x$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.11}
  \begin{enumerate}[label = (\alph*)]
    \item Suppose that $H$ is a function and $y$ is a number such that $H(H(y)) = y$.
    What is
    \begin{equation*}
      \underbrace{H(H(H(\cdots(H(y)\cdots)}_\text{$80$ times} ?
    \end{equation*}
    \item Same question if $80$ is replaced by $81$.
    \item Same question if $H(H(y)) = H(y)$.
    \item Find a function $H$ such that $H(H(x)) = H(x)$ for all numbers $x$, and
    such that $H(1) = 36, H(2) = \pi/3, H(13) = 47, H(36) = 36, H(\pi/3) = \pi/3,
    H(47) = 47$.
    \item Find a function $H$ such that $H(H(x)) = H(x)$ for all $x$, and such that
    $H(1) = 7, H(17) = 18$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item $y$
    \item $H(y)$
    \item $H(y)$
    \item Let $H(x)$ has the value given before when $x = 1,2,13,36,\pi/3,47$.
    When $x$ is not equal to those values, let $H(x) = 0$.
    \item Let $H(1) = H(7) = 7$ and $H(17) = H(18) = 18$. When $x \neq 1,7,17,18$;
    let $H(x) = 0$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.12}
  A function $f$ is \textbf{even} if $f(x) = f(-x)$ and \textbf{odd} if $f(x) = -f(-x)$.
  \begin{enumerate}[label = (\alph*)]
    \item Determine whether $f + g$ is even, odd, or not necessarily either.
    \item Do the same for $f \cdot g$.
    \item Do the same for $f \circ g$.
    \item Prove that for every even function $f$ can be written $f(x) = g(|x|)$,
    for infinitely many functions $g$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item If $f$ and $g$ are both even, $(f + g)(-x) = (f + g)(x)$: $f + g$ is even.
    If $f$ and $g$ are both odd, $(f + g)(-x) = -(f + g)(x)$: $f + g$ is odd.
    Suppose $f(x) = x^2$ and $g(x) = \sin (x)$, then $f + g$ is neither odd nor even.
    \item If $f$ and $g$ are both even, $(f \cdot g)$ is even; if one of the two
    is odd, $(f \cdot g)$ is odd; if both are odd, $(f \cdot g)$ is even.
    \item If $f$ and $g$ are both even, $(f \circ g)$ is even; if $f$ is even
    and $g$ is odd, $(f \circ g)$ is even; if $f$ is odd and $g$ is even,
    $(f \circ g)$ is even; if both are odd, $(f \circ g)$ is odd.
    \item Define $g$ such that
    \begin{equation*}
      g(|x|) = \left\{
      \begin{array}{rl}
        f(x), & \text{ if } x \geq 0 \\
        \text{arbitrary}, & \text{ if } x < 0
      \end{array}
      \right.
    \end{equation*}
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.13}
  \begin{enumerate}[label = (\alph*)]
    \item Prove that any function $f$ with domain $\mathbb{R}$ can be written
    $f = E + O$, where $E$ is even and $O$ is odd.
    \item Prove that this way of writing $f$ is unique.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let
    \begin{align*}
      E(x) &= \frac{f(x) + f(-x)}{2} &
      O(x) &= \frac{f(x) - f(-x)}{2}
    \end{align*}
    \item Suppose that $f = E + O$, then observe that,
    \begin{IEEEeqnarray*}{rCl}
      f(x)  & = & E(x) + O(x) \\
      f(-x) & = & E(x) - O(x)
    \end{IEEEeqnarray*}
    We therefore solve the system of equations for the unique $E$ and $O$ with
    their value at $x$ as above.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.14}
  If $f$ is any function, define a new function $|f|$ by $|f|(x) = |f(x)|$. If $f$
  and $g$ are functions, define two new functions, $max(f,g)$ and $min(f,g)$, by
  \begin{IEEEeqnarray*}{rCl}
    max(f,g)(x) & = & max(f(x),g(x)), \\
    min(f,g)(x) & = & min(f(x),g(x)).
  \end{IEEEeqnarray*}
  Find an expression for $max(f,g)$ and $min(f,g)$ in terms of $||$.
\end{pr}

\begin{solution}
  \begin{align*}
    max(f,g) &= \frac{f + g + |f - g|}{2} \\
    min(f,g) &= \frac{f + g - |f - g|}{2}
  \end{align*}
\end{solution}

\begin{pr} \label{3.15}
  \begin{enumerate}[label = (\alph*)]
    \item Show that $f = max(f,0) + min(f,0)$. This particular way of writing $f$
    is fairly useful; the functions $max(f,0)$ and $min(f,0)$ are called the
    \textbf{positive} and \textbf{negative parts} of $f$.
    \item A function $f$ is called \textbf{nonnegative} if $f(x) \geq 0$ for all $x$.
    Prove that any function $f$ can be written $f = g - h$, where $g$ and $h$
    are nonnegative, in infinitely many ways.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Using the formulae from the previous problem,
    \begin{equation*}
      f = max(f,0) + min(f,0) = \frac{f + |f|}{2} + \frac{f - |f|}{2}
    \end{equation*}
    Note that $max(f,0) \geq 0$ and $min(f,0) \leq 0$ for all $x$.
    \item Define $g$ and $h$ such that,
    \begin{align*}
      g(x) &= max(f,0)(x) + a & h(x) &= -min(f,0)(x) + a
    \end{align*}
    where $a \geq 0$ is a constant and can be defined arbitrarily. Observe
    that $g$ and $h$ are nonnegative for all $x$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.16}
  Suppose $f$ satisfies $f(x + y) = f(x) + f(y)$ for all $x$ and $y$.
  \begin{enumerate}[label = (\alph*)]
    \item Prove that $f(x_1 + \cdots + x_n) = f(x_1) + \cdots + f(x_n)$.
    \item Prove that there is some number $c$ such that $f(x) = cx$ for all
    \note{rational} numbers $x$. Hint: Figure out what $c$ must be.
    Now prove $f(x) = cx$, first when $x$ is a natural
    number, then when $x$ is an integer, then when $x$ is the reciprocal of an integer
    and, finally, for all rational $x$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item The proof is by induction on $n$. For $n = 1$, it is trivial; suppose
    the equality holds for $n$, then for $n + 1$,
    \begin{IEEEeqnarray*}{rCl}
      f(x_1 + \cdots + x_{n + 1}) &=& f(x_{n + 1}) + f(x_1 + \cdots + x_n) \\
      &=& f(x_1) + \cdots + f(x_n) + f(x_{n + 1})
    \end{IEEEeqnarray*}
    \item It is implied that $f(0) = 0$. Let $c = f(1)$. When $x$ is a natural
    number,
    \begin{equation*}
      f(x) = f(\underbrace{1 + \cdots + 1}_\text{$x$ times}) = xf(1) = cx
    \end{equation*}
    Next, when $x$ is an integer, know that $f(x) + f(-x) = f(0) = 0$. Therefore,
    $f(x) = -f(-x)$: The necessary condition for the assumption made at the beginning
    of the problem is $f$ is an odd function. Without loss of generality, assume $x \geq 0$.
    Then $f(x) = cx$, and hence
    \begin{equation*}
      f(-x) = -f(x) = c \cdot -x
    \end{equation*}
    Now, if $x$ is the reciprocal of an integer, then
    \begin{IEEEeqnarray*}{rCl}
      c = f(1) & = & f(x \cdot \frac{1}{x}) \\
               & = & f(\underbrace{\frac{1}{x} + \cdots + \frac{1}{x}}_\text{$x$ times}) \\
               & = & xf(\frac{1}{x})
    \end{IEEEeqnarray*}
    Therefore, $f(\dfrac{1}{x}) = c \cdot \dfrac{1}{x}$.
    \\
    Finally, when $x = p/q$ where $p,q$ are integers,
    \begin{equation*}
      f\left(\frac{p}{q}\right) = f\left(\underbrace{\frac{1}{q} + \cdots + \frac{1}{q}}_\text{$p$ times}\right)
      = p \cdot f\left(\frac{1}{q}\right) = c \cdot \frac{p}{q}
    \end{equation*}
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.17}
  If $f(x) = 0$ for all $x$, then $f$ satisfies $f(x + y) = f(x) + f(y)$ for all
  $x$ and $y$, and also $f(x \cdot y) = f(x) \cdot f(y)$ for all $x$ and $y$. Now suppose
  that $f$ satisfies these two properties, but that $f(x)$ is not always $0$. Prove
  that $f(x) = x$ for all $x$, as follows:
  \begin{enumerate}[label = (\alph*)]
    \item Prove that $f(1) = 1$.
    \item Prove that $f(x) = x$ if $x$ is rational.
    \item Prove that $f(x) > 0$ if $x > 0$. (This part is tricky, but if you have
    been paying attention to the philosophical remarks accompanying the problems
    in the last two chapters, you will know what to do.)
    \item Prove that $f(x) > f(y)$ if $x > y$.
    \item Prove that $f(x) = x$ for all $x$. Hint: Use the fact that between
    any two numbers there is a rational number.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Since $f(1) = (f(1))^2$, either $f(1) = 1$ or $f(1) = 0$. Suppose $f(1) = 0$,
    then $f(2) = f(1) + f(1) = 0$, and hence $f(x) = 0$ for all $x$: A contradiction
    that $f(x) \neq 0$ for some $x$. Therefore, $f(1) = 1$.
    \item Referring to \ref{3.16}, we know that $f(x) = cx$ for all rational $x$
    and $c = f(1) = 1$. Therefore, $f(x) = x$ for all rational $x$.
    \item Let $x > 0$. If $x$ is rational, $f(x) > 0$ for all $x$. If $x$ is
    irrational, from \ref{2.17}, it is implied that there exist a number $y > 0$
    such that $x = y^2$. Hence, $f(x) = f(y^2) = (f(y))^2 \geq 0$. Suppose $f(x) = 0$,
    \begin{equation*}
      f(z) = f(x \cdot z/x) = f(x) \cdot f(z/x) = 0 \text{ for all } z
    \end{equation*}
    contradicts $f(1) = 1$! Therefore, $f(x) > 0$.
    \item If $x - y > 0$, then $f(x - y) = f(x) + f(-y) = f(x) - f(y) > 0$. Hence,
    $f(x) > f(y)$.
    \item Suppose that $f(x) > x$. Then there exists a rational $r$ such that
    \begin{equation*}
      x < r = f(r) < f(x)
    \end{equation*}
    But since $r > x$, $f(r) > f(x)$: A contradiction. Similar reasoning is applied
    to $f(x) < x$. Therefore, $f(x) = x$ for all $x$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.18}
  Precisely what conditions must $f,g,h,$ and $k$ satisfy in order that
  $f(x)g(y) = h(x)k(y)$ for all $x$ and $y$?
\end{pr}

\begin{solution}
  If either $f$ or $g$ is $0$, and either $h$ or $k$ is $0$;
  the equation holds. Otherwise, $f$ and $g$ are not $0$ for  some $x_0$ and $y_0$;
  since $h(x)k(y) = f(x)g(y) \neq 0$, $h$ and $k$ are not $0$ for some $x_0$ and $y_0$.
  Let $\alpha = \dfrac{f(x_0)}{h(x_0)} = \dfrac{k(y_0)}{g(y_0)}$. Therefore, for such $\alpha$,
  $f(x) = \alpha h(x)$ for all $x$ and $k(y) = \alpha g(y)$ for all $y$.
\end{solution}

\begin{pr} \label{3.19}
  \begin{enumerate}[label = (\alph*)]
    \item Prove that there do \note{not} exist functions $f$ and $g$ with either
    of the following properties:
    \begin{enumerate}[label = (\roman*)]
      \item \label{3.19:a.i}  $f(x) + g(y) = xy$ for all $x$ and $y$.
      \item \label{3.19:a.ii} $f(x) \cdot g(y) = x + y$ for all $x$ and $y$.
    \end{enumerate}
   \item Find functions $f$ and $g$ such that $f(x + y) = g(xy)$ for all $x$ and $y$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Suppose \ref{3.19:a.i} is satisfied, observe that
    \begin{IEEEeqnarray*}{rCl}
      g(y) & = & -f(0) \quad \forall y \\
      f(x) & = & -g(0) \quad \forall x
    \end{IEEEeqnarray*}
    Then $f(1) + g(1) = 0 = 1 \cdot 1$: A contradiction.\\
    On the other hand, suppose \ref{3.19:a.ii} is satisfied, observe that
    \begin{IEEEeqnarray*}{rCl}
      f(0) \cdot g(y) & = & y \quad \forall y \\
      f(x) \cdot g(0) & = & x \quad \forall x
    \end{IEEEeqnarray*}
    If $f(0) = 0$, obviously $f(0) \cdot g(0) = f(0) \cdot g(1)$; however,
    $f(0) \cdot g(0) = 0 + 0 = 0$ and $f(0) \cdot g(1) = 0 + 1 = 1$, implying $1 = 0$.
    Hence, $f(0) \neq 0$ and, similarly, $g(0) \neq 0$. But this implies
    $f(0)g(0) \neq 0$, which contradicts \ref{3.19:a.ii}.
    \item Observe that $f(x) = g(0) = f(y)$ for all $x$ and $y$. Furthermore,
    this leads to $g(m) = g(n) = g(0)$ for all $m$ and $n$. Hence, $f(x) = g(x) = c$,
    where $c$ is a constant.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.20}
  \begin{enumerate}[label = (\alph*)]
    \item Find a function $f$, other than a constant function, such that
    $|f(y) - f(x)| \leq |y - x|$.
    \item Suppose that $f(y) - f(x) \leq (y - x)^2$ for all $x$ and $y$. (Why does
    this imply that $|f(y) - f(x)| \leq (y - x)^2$?) Prove that $f$ is a constant
    function. Hint: Divide the interval from $x$ to $y$ into $n$ equal pieces.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let $f(x) = x$. Another example is $f(x) = |x|$ by noting from \ref{1.12}\ref{1.12:v}.
    \item To explain why $|f(y) - f(x)| \leq (y - x)^2$, note that $f(x) - f(y) \leq (y - x)^2$.
    The interpretation here is that: If both negative and positive of a number
    is smaller thant its square, certainly we can pick the number's positive alone.

    To prove that $f$ is a constant function, note that if $x = y$, $f(x) = f(y)$ and
    we are done. Suppose $x \neq y$, then
    \begin{IEEEeqnarray*}{rCl}
      |f(y) - f(x)| & = & \left| \sum_{k = 1}^n f\left(x + \frac{k(y - x)}{n}\right)
      - f\left(x + \frac{(k - 1)(y - x)}{n}\right) \right| \\
                    & \leq & \sum_{k = 1}^n \left| f\left( x + \frac{k(y - x)}{n} \right)
      - f\left( x + \frac{(k - 1)(y - x)}{n} \right) \right| \\
                    & \leq & \sum_{k = 1}^n \frac{1}{n^2} \cdot (y - x)^2 \\
                    & = & \frac{(y - x)^2}{n}
    \end{IEEEeqnarray*}
    for all natural numbers $n$. Therefore, this implies that $f(x) = f(y)$ for all
    $x$ and $y$ and $x \neq y$. Hence, $f$ is a constant function.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.21}
  Prove or give a counterexample for each of the following assertions:
  \begin{enumerate}[label = (\alph*)]
    \item $f \circ (g + h) = f \circ g + f \circ h$.
    \item $(g + h) \circ f = g \circ f + h \circ f$.
    \item $\dfrac{1}{f \circ g} = \dfrac{1}{f} \circ g$.
    \item $\dfrac{1}{f \circ g} = f \circ \dfrac{1}{g}$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let $f(x) = x^2$ and $g(x) = h(x) = x$, then
    \begin{equation*}
      (2x)^2 \neq x^2 + x^2
    \end{equation*}
    \item $[(g + h) \circ f](x) = (g + h)(f(x)) = g(f(x)) + h(f(x))
    = (g \circ f)(x) + (h \circ f)(x) = (g \circ f + h \circ f)(x)$
    \item $\left[\dfrac{1}{f} \circ g\right](x)
    = \dfrac{1}{f}(g(x)) = \dfrac{1}{f(g(x))} = \dfrac{1}{f \circ g}(x)$
    \item Let $f(x) = x + 1$ and $g(x) = x^2$, then
    \begin{equation*}
      \frac{1}{x^2 + 1} \neq \frac{1}{x^2} + 1
    \end{equation*}
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.22}
  \begin{enumerate}[label = (\alph*)]
    \item Suppose $g = h \circ f$. Prove that if $f(x) = f(y)$, then $g(x) = g(y)$.
    \item \label{3.22:b} Conversely, suppose that $f$ and $g$ are two functions such that $g(x) = g(y)$
    whenever $f(x) = f(y)$. Prove that $g = h \circ f$ for some function $h$. Hint:
    Just try to define $h(z)$ when $z$ is of the form $z = f(x)$ (these are the only
    $z$ that matter) and use the hypotheses to show that your definition will not run
    into trouble.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item Let $A = \{x: x \text{ is in the domain of } f \cap f(x) \text{ is in the
    domain of } h\}$, then for all $x,y \in A$,
    \begin{equation*}
      g(x) = h(f(x)) = h(f(y)) = g(y)
    \end{equation*}
    \item Let
    \begin{IEEEeqnarray*}{rCl}
      h(z) & = & \left\{
      \begin{array}{rl}
        g(x), & \text{when } z = f(x) \\
        0   , & \text{otherwise}
      \end{array}
      \right.
    \end{IEEEeqnarray*}
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.23}
  Suppose that $f \circ g = I$, where $I(x) = x$. Prove that
  \begin{enumerate}[label = (\alph*)]
    \item If $x \neq y$, then $g(x) \neq g(y)$.
    \item \label{3.23:b} Every number $b$ can be written $b = f(a)$ for some number $a$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item If $x \neq y$, then $f(g(x)) \neq f(g(y))$. By the contrapositive of
    the definition of a function, $g(x) \neq g(y)$.
    \item Let $a = g(b)$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.24}
  \begin{enumerate}[label = (\alph*)]
    \item \label{3.24:a} Suppose $g$ is a function with property that $g(x) \neq g(y)$ if $x \neq y$.
    Prove that there is a function $f$ such that $f \circ g = I$.
    \item Suppose $f$ is a function such that every number $b$ can be written
    $b = f(a)$ for some number $a$. Prove that there is a function $g$ such that
    $f \circ g = I$.
  \end{enumerate}
\end{pr}

\begin{solution}
  \begin{enumerate}[label = (\alph*)]
    \item By the contrapositive statement: if $g(x) = g(y)$, then $x = y$.
    Hence apply \ref{3.22}\ref{3.22:b} for $h = f, f = g, g = I$ we obtain the result.
    \item For each $x$, choose number $a$ such that $f(a) = x$. Let $g(x) = a$,
    then $f \circ g = I$ for all $x$.
  \end{enumerate}
\end{solution}

\begin{pr} \label{3.25}
  Find a function $f$ such that $g \circ f = I$ for some $g$, but such that there is
  no function $h$ with $f \circ h = I$.
\end{pr}

\begin{solution}
  Define $f$ as following,
  \begin{IEEEeqnarray*}{rCl}
    f(x) & = & \left\{
    \begin{array}{rl}
      x,      & \text{if } x \leq 0, \\
      x + 1,  & \text{if } x >    0
    \end{array}
    \right.
  \end{IEEEeqnarray*}
  By \ref{3.24}\ref{3.24:a}, there exist some $g$ such that $g \circ f = I$.
  However, since there is no $x$ such that $f(x) = b$, where $0 < b \leq 1$, by
  \ref{3.23}\ref{3.23:b} there is no $h$ such that $f \circ h = I$.
\end{solution}

\begin{pr} \label{3.26}
  Suppose $f \circ g = I$ and $h \circ f = I$. Prove that $g = h$. Hint: Composition is associative.
\end{pr}

\begin{solution}
  \begin{equation*}
    g = (((f \circ g) \circ h) \circ f) \circ g = f \circ (g \circ (h \circ (f \circ g)))
    = f \circ (g \circ h) = (f \circ g) \circ h = h
  \end{equation*}
  A faster way would be to note that $h \circ f \circ g = (h \circ f) \circ g = I \circ g = g$
  and $h \circ f \circ g = h \circ (f \circ g) = h \circ I = h$. Hence $g = h$.
\end{solution}

\begin{pr} \label{3.27}
  \begin{enumerate}[label = (\alph*)]
    \item Suppose $f(x) = x + 1$. Are there any functions $g$ such that $f \circ g = g \circ f$?
    \item Suppose $f$ is a constant function. For which functions $g$ does
    $f \circ g = g \circ f$?
    \item Suppose $f \circ g = g \circ f$ for \note{all} functions $g$. Show that $f$
    is the identity function, $f(x) = x$.
  \end{enumerate}
\end{pr}
